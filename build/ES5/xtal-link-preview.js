(function(){function a(){var a=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));a.flag=0,a._serviceUrl='https://cors-anywhere.herokuapp.com/http://playground.ajaxtown.com/link_preview/class.linkpreview.php?url=',a._preview=!1;var d=document.createElement('template');return d.innerHTML='\n          <style>\n            :host {\n              display: block;\n            }\n            '+c+'\n          </style>\n          <div id="slot">\n          <slot>\n           \n          </slot>\n          </slot>\n        ',a.attachShadow({mode:'open'}),a.shadowRoot.appendChild(d.content.cloneNode(!0)),a.style.display='block',a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){this.addEventListener('mousedown',this.handleMouseDown),this.addEventListener('mousemove',this.handleMouseMove),this.addEventListener('mouseup',this.handleMouseUp)}},{key:'disconnectedCallback',value:function(){this.removeEventListener('mousedown',this.handleMouseDown),this.removeEventListener('mousemove',this.handleMouseMove),this.removeEventListener('mouseup',this.handleMouseUp)}},{key:'handleMouseDown',value:function(){this.flag=0}},{key:'handleMouseMove',value:function(){this.flag=1}},{key:'handleMouseUp',value:function(a){if('A'!==a.target.tagName)switch(this.flag){case 0:window.open(this.href);break;case 1:}}},{key:'loadHref',value:function(){var a=this;this._preview&&this._href&&this._serviceUrl&&fetch(this._serviceUrl+this._href+'&image_no=1&css=true').then(function(b){b.text().then(function(b){var c=b;[['html','div'],['head','header'],['body','main']].forEach(function(a){c=c.replace('<'+a[0]+'>','<'+a[1]+' id="root">').replace('</'+a[0]+'>','</'+a[1]+'>')}),c=c.replace('<a href="','<a target="_blank" href="'),c=c.replace('<div id="toolbar" class="clearfix"><button id="changeimg">></button></div>','');var d=document.createElement('div');d.innerHTML=c,a.shadowRoot.appendChild(d),a.shadowRoot.querySelector('div#slot').innerHTML=''})})}},{key:'attributeChangedCallback',value:function(a,b,c){'href'===a?(this._href=c,this.loadHref()):'preview'===a?(this._preview=null!==c,this.loadHref()):'service-url'===a?(this._serviceUrl=c,this.loadHref()):void 0}},{key:'serviceUrl',get:function(){return this._serviceUrl},set:function(a){this.setAttribute('service-url',a)}},{key:'href',set:function(a){this.setAttribute('href',a)},get:function(){return this._href}},{key:'preview',set:function(a){a?this.setAttribute('preview',''):this.removeAttribute('preview')},get:function(){return this._preview}}],[{key:'observedAttributes',get:function(){return['href','preview','service-url']}}]),b}(HTMLElement);customElements.define('xtal-link-preview',a)}if(!customElements.get('xtal-link-preview')){var b=document.currentScript,c='';b&&b.dataset.cssPath?fetch(b.dataset.cssPath).then(function(b){b.text().then(function(b){c=b,a()})}):a()}})();