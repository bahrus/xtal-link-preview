(function(){if(!customElements.get('xtal-link-preview')){var a=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));a._preview=!1;var c=document.createElement('template');return c.innerHTML='\n              <style>\n                :host {\n                  display: block;\n                }\n              </style>\n              <slot></slot>\n            ',a.attachShadow({mode:'open'}),a.shadowRoot.appendChild(c.content.cloneNode(!0)),a.style.display='block',a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'loadHref',value:function(){var a=this;this._preview&&this._href&&fetch('https://cors-anywhere.herokuapp.com/http://playground.ajaxtown.com/link_preview/class.linkpreview.php?url='+this._href+'&image_no=1&css=true').then(function(b){b.text().then(function(b){var c=b;['html','head','body'].forEach(function(a){c=c.replace('<'+a+'>','<div>').replace('</'+a+'>','</div>')}),c=c.replace('<a href="','<a target="_blank" href="'),c=c.replace('<div id="toolbar" class="clearfix"><button id="changeimg">></button></div>',''),a.shadowRoot.innerHTML=c})})}},{key:'attributeChangedCallback',value:function(a,b,c){'href'===a?(this._href=c,this.loadHref()):'preview'===a?(this._preview=null!==c,this.loadHref()):void 0}},{key:'href',set:function(a){this.setAttribute('href',a)},get:function(){return this._href}},{key:'preview',set:function(a){a?this.setAttribute('preview',''):this.removeAttribute('preview')},get:function(){return this._preview}}],[{key:'observedAttributes',get:function(){return['href','preview']}}]),b}(HTMLElement);customElements.define('xtal-link-preview',a)}})();